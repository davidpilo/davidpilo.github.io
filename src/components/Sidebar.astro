---
import { Image } from 'astro:assets';

import SidebarLink from './SidebarLink.astro';

import profileImg from '../images/profile.jpg';

const links = [
  {
    href: 'https://linkedin.com/in/david-pilo',
    icon: 'linkedin',
    iconColor: '#0A66C2',
    label: 'LinkedIn'
  },
  {
    href: 'https://github.com/davidpilo',
    icon: 'github',
    iconColor: '#6e40c9',
    label: 'GitHub'
  },
  {
  href: 'https://davidpilo.com/blog/rss.xml',
    icon: 'rss',
    iconColor: '#d97706',
    label: 'RSS'
  },
];
---

<aside>
  <div class="profile-card">
    <Image
      src={profileImg}
      alt="David Pilo"
      width={52}
      height={52}
      class="profile-thumb"
    />
    <div class="profile-info">
      <div class="profile-name">David Pilo</div>
      <div class="profile-role">CEO &amp; Founder, Walcu</div>
    </div>
  </div>

  <div class="terminal-cmd">
    <span class="cmd-prompt">$</span>
    <span class="cmd-text">whoami</span>
  </div>

  <div class="bio">
    <p>
      <span class="bio-comment">#</span> I'm the CEO and founder of Walcu, a leading ILM and CRM 
      platform for auto dealers. I hold bachelor's degrees in Mathematics and Computer Science 
      from Rollins College.
    </p>
  </div>

  <div class="links-section">
    <p class="links-heading">~ links</p>
    <ul>
      {links.map(link => (
        <li><SidebarLink {...link} /></li>
      ))}
    </div>
  </div>
</aside>

<style is:global>
  :root,
  [data-theme="dark"] {
    --sidebar-border: var(--moonfly-grey18);
    --sidebar-pic-profile-border: var(--moonfly-lime);
    --sidebar-name-color: var(--moonfly-white);
    --sidebar-company-color: var(--moonfly-lime);
    --sidebar-cmd-prompt: var(--moonfly-yellow);
    --sidebar-cmd-bg: var(--moonfly-grey15);
    --sidebar-cmd-color: var(--moonfly-turquoise);
    --sidebar-section-heading: var(--moonfly-grey58);
    --sidebar-bio-comment: var(--moonfly-green);
    --sidebar-slash-color: var(--moonfly-grey39);
  }

  [data-theme="light"] {
    --sidebar-border: var(--solarized-selection);
    --sidebar-pic-profile-border: var(--solarized-green);
    --sidebar-name-color: var(--solarized-fg);
    --sidebar-company-color: var(--solarized-green);
    --sidebar-cmd-prompt: var(--solarized-yellow);
    --sidebar-cmd-bg: var(--solarized-selection);
    --sidebar-cmd-color: var(--solarized-cyan);
    --sidebar-section-heading: var(--solarized-base1);
    --sidebar-bio-comment: var(--solarized-green);
    --sidebar-slash-color: var(--solarized-base1);
  }
</style>

<style>
  aside {
    align-self: flex-start;
    font-size: 0.82rem;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    padding: 2.5rem 1rem;
    position: sticky;
    top: 4rem;
    width: 280px;
  }

  /* Profile card */
  .profile-card {
    align-items: center;
    display: flex;
    gap: 0.75rem;
  }

  .profile-thumb {
    border: 1px solid var(--sidebar-pic-profile-border);
    flex-shrink: 0;
    height: 52px;
    object-fit: cover;
    width: 52px;
  }

  .profile-name {
    color: var(--sidebar-name-color);
    font-size: 1.05rem;
    font-weight: 700;
  }

  .profile-role {
    color: var(--sidebar-company-color);
    font-size: 0.78rem;
  }

  .terminal-cmd {
    align-items: center;
    background-color: var(--sidebar-cmd-bg);
    border-left: 0.2rem solid var(--sidebar-pic-profile-border);
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
    padding: 0.35rem 0.6rem;
  }

  .cmd-prompt {
    color: var(--sidebar-cmd-prompt);
    user-select: none;
  }

  .cmd-text {
    color: var(--sidebar-cmd-color);
  }

  .bio {
    color: var(--body-fg);
    line-height: 1.7;
  }

  .bio-comment {
    color: var(--sidebar-bio-comment);
  }

  .bio-comment strong {
    color: var(--sidebar-name-color);
  }

  .links-heading {
    color: var(--sidebar-section-heading);
    margin-bottom: 1rem;
  }

  ul {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    list-style: none;
    margin: 0;
    padding: 0;
  }
</style>
