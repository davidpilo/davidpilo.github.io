---
import MainLayout from '../layouts/MainLayout.astro';
import Header from '../components/Header.astro';
import Sidebar from '../components/Sidebar.astro';
import Section from '../components/Section.astro';
import ArticleCard from '../components/ArticleCard.astro';
import ProjectCard from '../components/ProjectCard.astro';

const PAGE_BLOG = 'https://davidpilo.com/blog'

const projects = [
  {
    title: 'PVTS — Visual Interpreter',
    description: 'Ever wondered what the Quicksort Algorithm looks like? Visualize lists, pointers and function calls in your code. PVTS is a visual interpreter for the Scheme functional programming language.',
    href: 'https://davidpilo.com/pvts',
    repo: 'https://github.com/davidpilo/pvts',
  },
];

const articles = [
  {
    title: 'Can You Make It Uglier?',
    date: 'February 5, 2026',
    excerpt: '“Can you make it uglier?” That’s my favorite question to ask when a teammate presents a new design. Humans are wired to love beautiful...',
    href: `${PAGE_BLOG}/post/can-you-make-it-uglier/`,
  },
  {
    title: 'Our Head of Customer Success left last week. On her way out, she handed us a gift during the exit interview',
    date: 'January 27, 2026',
    excerpt: 'Our Head of Customer Success left last week. On her way out, she handed us a gift during the exit interview. She said, very calmly, that...',
    href: `${PAGE_BLOG}/post/head-of-cs-left-last-week/`,
  },
  {
    title: 'Fire the Managers. Promote Mentors',
    date: 'January 22, 2026',
    excerpt: 'When we were a dozen or so at Walcu, I knew that one day, if things went well, we’d grow and eventually need a hierarchy. I dreaded...',
    href: `${PAGE_BLOG}/post/fire-managers-promote-mentors/`,
  },
  {
    title: 'Six Years In, $8M ARR, Still No Business Plan',
    date: 'January 15, 2026',
    excerpt: 'Until Today. One thing that always struck me as outright wrong is to spend time on creating detailed business plans and financial...',
    href: `${PAGE_BLOG}/post/no-business-plan/`,
  },
];
---

<MainLayout>
  <Header />
  <div class="page-body">
    <Sidebar />
    <main>
      <Section title="bio" id="bio">
        <p>
          I’m the founder and CEO of Walcu, a CRM and ILM platform built specifically for auto dealers.
        </p>
        <p>
          I studied Mathematics and Computer Science at Rollins College and later earned a master’s degree in 
          Operations Research from Cornell. I started my career at Microsoft as a Program Manager on the Excel 
          team, where I worked on making business intelligence tools easier for more people to use and helped 
          ship Excel as a web app in Office 365.
        </p>
        <p>
          After Microsoft, I moved into the automotive world as a Digital Strategist at Canalcar, a leading 
          used car retailer. That shift gave me a front-row seat to the real challenges dealers face every day.
        </p>
        <p>
          Bringing together my background in technology and my experience in automotive, I started Walcu to 
          build the kind of CRM I wished dealers already had — powerful, practical, and actually designed for how 
          the industry works.
        </p>
      </Section>

      <Section title="last_updates" href="/posts" id="posts">
        <div class="articles-grid">
          {articles.map(article => (
            <ArticleCard {...article} />
          ))}
        </div>
      </Section>

      <Section title="projects" href="/projects" id="projects">
        {projects.map(project => (
          <ProjectCard {...project} />
        ))}
      </Section>
    </main>
  </div>
</MainLayout>

<style>
  .page-body {
    display: flex;
    margin: 0 auto;
    max-width: 72rem;
  }

  main {
    border-left: 1px solid var(--sidebar-border);
    display: flex;
    flex-direction: column;
    flex: 1;
    gap: 2.5rem;
    padding: 2rem 2.5rem;
  }

  main p {
    border-color: var(--section-line);
    border-style: solid;
    border-width: 0px 1px;
    color: var(--body-fg);
    font-family: 'JetBrains Mono Variable', 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    line-height: 1.75;
    margin: 0;
    padding-left: 1rem;
  }

  .articles-grid {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: repeat(2, 1fr);
  }
</style>
